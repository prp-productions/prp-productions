import React from "react";
import "../styles/piano.css";
import { RecordingManager } from "./RecordingManager";


export class Piano extends React.Component {
  // TODO: create display methods
  constructor(]) {
    super();

    //this.recordingManager = new RecordingManager();

 

    //this.keydown();

    
  }

  // keydown() {
  //   document.addEventListener("keydown", (e) => {
  //     document.addEventListener("keydown", (e) => {
  //       if (!e.repeat) console.log(`Key "${e.key}" pressed  [event: keydown]`);
  //       else console.log(`Key "${e.key}" repeating  [event: keydown]`);
  //     });
  //     document.addEventListener("beforeinput", (e) => {
  //       console.log.log(
  //         `Key "${e.data}" about to be input  [event: beforeinput]`
  //       );
  //     });
  //     document.addEventListener("input", (e) => {
  //       console.log(`Key "${e.data}" input  [event: input]`);
  //     });
  //     document.addEventListener("keyup", (e) => {
  //       console.log(`Key "${e.key}" released  [event: keyup]`);
  //     });
  //     switch (e.key) {
  //       case "c":
  //         console.log("C");
  //     }
  //   });
  // }

  

  

  createOctave(octaveNumber) {
    //! WTF is octaveWidth?
    const octaveWidth = 100;
    const octave = utils.createSVGElement("g");
    octave.classList.add("octave");

    octave.setAttribute(
      "transform",

      `translate(${octaveNumber * octaveWidth}, 0)`
    );
    return octave;
  }

  

  


  displayNotes(notes) {
    const pianoKeys = document.querySelectorAll(".key");
    utils.removeClassFromNodeCollection(pianoKeys, "show");
    notes.forEach((noteName) => {
      pianoKeys.forEach((key) => {
        const naturalName = key.dataset.noteName;
        const sharpName = key.dataset.sharpName;
        const flatName = key.dataset.flatName;
        if (
          naturalName === noteName ||
          sharpName === noteName ||
          flatName === noteName
        ) {
          key.classList.add("show");
        }
      });
    });
  }
  render() {
    return (
      <div className="main_piano_div">
        <div>
          {" "}
          {this.addWhiteKeys}
          {this.addBlackKeys}
          {this.createOctave}
          {this.createKey}
          {this.getAllNaturalNotes}
          {this.createMainSvg}
          <div> {this.displayNotes}</div>
        </div>
      </div>
    );
  }
}

export default Piano;
